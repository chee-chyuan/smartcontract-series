# Using contract factory to deploy minimal proxy with erc721 upgradeable implementation
- erc721 token wil now use `@openzeppelin/contracts-upgradeable`
- i dont think i need tokenuri library from Oz as im making it a view function and svg's can be generated by knowing the tokenId only

-TODO: figure out how to set tokenuri (should i use svg or imageurl for simplicity)

- create pauseCount and unpauseCount
- map countid to index in the array (copying from Erc721Enumerable , _ownedTokensIndex)

structure:
mapping(countid -> cloneaddress)
mapping(cloneaddress -> countId) //for reverse mapping info
mapping(cloneaddress -> true/false) for us to know if clone exist

totalPaused
mapping(index -> cloneAddress) pausedCloneList
mapping(countid -> index) pausedListIndex

totalUnpaused
mapping(index -> cloneAddress) unpausedCloneList
mapping(countid -> index) unpausedListIndex

adding and deleting from paused/unpaused will update mapping of both list and listindex


clonedetail
mapping(countid -> struct CloneInfo)

struct CloneInfo {
    name;
    price;  //in 8 dp usd
    baseImageUri;
    maxsupply;
}



## Testing
1. deploy-clone-test.ts 
- deploy factory
- check factory owner
- deploy clone
- check clone owner, name and symbol
- check mappings, structs and count in storage (not complete)

2. admin-consume-test.ts
- check admin functionalities
- mint, and test consume only admin
-test transfer eth to recipient

3. admin-pause-unpause-test.ts
-check pause, unpause
-check all mappings in pause, unpause

4. purchase-transfereth-test.ts
-test priceoracle purchase and unsuccessuful purchase